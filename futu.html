<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>普通列車データを追加</title>
  <link rel="stylesheet" href="reset.css" />
  <link rel="stylesheet" href="add-style.css" />
</head>
<body>
  <div class="container">
    <h3>普通列車データを追加</h3>
    <form id="addTrainForm">
        <!-- 種別 -->
        <label for="trainType">種別:</label>
        <select id="trainType" required>
          <option value="" disabled selected>-選択-</option>
          <option value="普通">普通</option>
          <option value="快速">快速</option>
          <option value="特快">特快</option>
          <option value="特急">特急</option>
        </select>
      
        <!-- 行先 -->
        <label for="destination">行先:</label>
        <select id="destination" required>
          <option value="" disabled selected>-選択-</option>
          <optgroup label="下り">
            <option value="高崎">高崎</option>
            <option value="前橋">前橋</option>
            <option value="籠原">籠原</option>
          </optgroup>
          <optgroup label="上り">
            <option value="熱海">熱海</option>
            <option value="小田原">小田原</option>
            <option value="沼津">沼津</option>
            <option value="平塚">平塚</option>
            <option value="国府津">国府津</option>
          </optgroup>
        </select>
      
        <!-- 編成 -->
        <label for="formation">編成:</label>
        <select id="formation" required>
          <option value="" disabled selected>-選択-</option>
          <option value="10両">10両</option>
          <option value="15両">15両</option>
        </select>
      
        <!-- 時刻 -->
        <label for="time">通過時刻:</label>
        <input type="time" id="time" required />
      
        <button type="submit">追加</button>
      </form>
      
    <a href="index.html" class="timetable-ret">時刻表を見る</a>
    <div class="background">
        <div class="background-img">
          <img src="scenery_08_backboad.jpg" alt="背景">
        </div>
    </div>
  </div>

  <script>
    // フォームの送信イベントを監視してlocalStorageに保存
    document.getElementById("addTrainForm").addEventListener("submit", event => {
      event.preventDefault();

      const destination = document.getElementById("destination").value;
      const direction = document.getElementById("direction").value;
      const time = document.getElementById("time").value;
      const formation = document.getElementById("formation").value;

      const newTrain = { destination, direction, time, formation };
      const timetable = JSON.parse(localStorage.getItem("ordinaryTimetable")) || [];
      timetable.push(newTrain);
      localStorage.setItem("ordinaryTimetable", JSON.stringify(timetable));

      alert("普通列車データを追加しました！");
      document.getElementById("addTrainForm").reset();
    });
  </script>
</body>
</html>
